<html data-lt-installed="true">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>IFT3911 DM2</title>
    <style type="text/css">
        table {
            border: outset 2px black;
            border-collapse: collapse;
        }
        
        th {
            border-bottom: double 2px black;
        }
        
        td {
            border-bottom: solid 1px black;
        }
        
        .first_col {
            border-right: double 2px black;
        }
    </style>
</head>

<body>
    <h1 style="text-align: center;">
        IFT 3911 - Devoir 2</h1>
    <h2>
        Information générale</h2>
    <p>
        <span style="font-weight: bold;">Nom: </span>Alexandre Eyrolle
        <br>
        <span style="font-weight: bold;">Matricule: </span>4593
        <br>
        <span style="font-weight: bold;">Courriel: </span>alexandre.eyrolle@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>20 heures
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Wassim Berrachedi
        <br>
        <span style="font-weight: bold;">Matricule: </span>2544
        <br>
        <span style="font-weight: bold;">Courriel: </span>wassim.berrachedi@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <p>
        <span style="font-weight: bold;">Nom: </span>Sami Sabri
        <br>
        <span style="font-weight: bold;">Matricule: </span>20113533
        <br>
        <span style="font-weight: bold;">Courriel: </span>sami.sabri@umontreal.ca
        <br>
        <span style="font-weight: bold;">temps mis: </span>40 heures
    </p>
    <h2>
        Distribution des tâches</h2>
    <p>
        <span style="font-weight: bold;">Soumetteur: </span>Alexandre Eyrolle
    </p>
    <table cellpadding="7px">
        <thead>
            <tr>
                <th class="first_col">
                    Tâche
                </th>
                <th>
                    Alexandre
                </th>
                <th>
                    Wassim
                </th>
                <th>
                    Placeholder
                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="first_col">
                    Réseau de Pétri
                </td>
                <td>
                    (0%)
                </td>
                <td>
                    (0%)
                </td>
                <td>
                    Tout (100%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Statchart
                </td>
                <td>
                    Tout (100%)
                </td>
                <td>
                    (0%)
                </td>
                <td>
                    (0%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Design logiciel
                </td>
                <td>
                    Interfaces clients, admin, hub, transport et voyage dans diagramme de classe (10%)
                </td>
                <td>
                    (90%)
                </td>
                <td>
                    (0%)
                </td>
            </tr>
            <tr>
                <td class="first_col">
                    Qualité du design
                </td>
                <td>
                    (0%)
                </td>
                <td>
                    (100%)
                </td>
                <td>
                    (0%)
                </td>
            </tr>
        </tbody>
    </table>
    <h2>
        Hypothèses</h2>

    <h2>
        Tâche 1 :Réseau de Pétri</h2>
    <p>
    	Pour faire le réseau de Pétri, le système doit contrôler des feux de circulation dans un tunnel à deux voies entre Montréal et la rive Sud, en utilisant des places pour représenter l'état du système et des transitions pour représenter les événements qui modifient cet état. <br><br>

    <img src="Tunnel/tunnel.png" alt="Reseau de Petri du Tunnel" width="650" height="450">
    <br>
    	Voici une descrption des places; <br><br>
    	la place P0 représente l'entrée du tunnel pour les voitures venant de Montréal, tandis que la place P1 représente l'entrée du tunnel pour les voitures venant de la rive Sud. Les voitures peuvent entrer dans le tunnel à partir de ces deux places et sortir soit à la sortie Montréal (P2) ou la sortie rive Sud (P3) en passant par la place P4 qui représente le tunnel lui-même. Les places P5 et P6 représentent les feux de signalisation pour les voitures venant de Montréal et de la rive Sud respectivement. Si le feu est vert, les voitures peuvent continuer leur route vers l'entrée du tunnel. Si le feu est rouge, les voitures doivent attendre avant de pouvoir continuer.<br> <br>
<br>
    	Les transitions sont les éléments qui représentent les événements qui modifient l'état du circuit, tandis que les places sont les éléments qui représentent les états du circuit. Voici une description des différentes transitions: <br> <br>
    	La transition T0 correspond à l'entrée dans la partie Montréal, reliée à la place P4 : tunnel par un arc. La transition T1 correspond à l'entrée dans la partie rive Sud, reliée à la place P1 : entrée rive Sud par un arc. La transition T2 correspond à la sortie de la partie Montréal, reliée à la place P2 : sortie Montréal par un arc. La transition T3 correspond à la sortie de la partie rive Sud, reliée à la place P3 : sortie rive Sud par un arc. Les transitions T4 et T5 représentent les feux de circulation dans les parties Montréal et rive Sud, reliées respectivement aux places P5 : lumière Montréal et P6 : lumière rive Sud. 
        <br>
    </p>
        <p>
        	Voici le graphe de couverture : <br>
    <img src="Tunnel/CovGraph.png" alt="Graphe de couverture" width="350" height="600"><br>
    <br>
    les transitions sont étiquetées avec des lettres de A à S, tandis que les places sont étiquetées avec des nombres et des vecteurs représentant le nombre de voitures dans chaque zone du système.<br> Le graphe de couverture est conçu de manière à garantir qu'une seule voiture peut circuler à travers le tunnel à la fois, et que le système est équitable de part et d'autre du tunnel pour éviter toute famine. 
        	<br>
<br>
Le tunnel est représenté par les transitions G et I, la transition G représente l'entrée du tunnel, tandis que la transition I représente la sortie du tunnel. 
<br>La loi de conservation du nombre de voitures s'applique au tunnel, car le nombre de voitures qui entrent doit être égal au nombre de voitures qui sortent pour maintenir l'intégrité du système.<br>
<br>
Loi de conservation :<br>
P0 + P1 + P2 + P3 + P4 = constante = 1 (puisque le système ne peut contenir qu'une voiture à la fois).<br>
Comme le système ne peut contenir qu'une voiture à la fois, la somme des places P0, P1, P2, P3 et P4 doit être égale à 1 à tout moment. Cette loi de conservation assure que le nombre de voitures qui entrent dans le tunnel est égal au nombre de voitures qui en sortent, et qu'il ne peut y avoir qu'une voiture à la fois dans le tunnel.
<br>
<br>
Le graphe montre que toutes les transitions peuvent être atteintes à partir de n'importe quelle place, ce qui signifie que tout état du système peut être atteint. Chaque transition a également une étiquette, ce qui signifie que chaque transition a une chance d'être exécutée. Par conséquent, le système est équitable de part et d'autre du tunnel.<br>
<br>
Prenons l'exemple du nœud "0: (1, 1, 0, 0)". À partir de cet état, les transitions A et B peuvent être atteintes. La transition A permet à la voiture de la rive Sud d'entrer dans le tunnel, tandis que la transition B permet à la voiture de Montréal d'entrer dans le tunnel. Étant donné que toutes les transitions ont une étiquette, cela signifie que les deux voitures ont une chance égale d'entrer dans le tunnel. Par conséquent, il n'y a pas de blocage permanent d'une voiture dans une place ou une transition, ce qui est une caractéristique de la famine.<br>
<br>
En utilisant la loi de conservation et en observant le graphe de couverture, il est possible de déduire qu'il n'y a pas de famine dans le réseau. Chaque transition a une chance d'être exécutée, et donc chaque voiture a une chance d'avancer dans le système sans être bloquée de manière permanente.<br>
</p>
    <h2>
        Tâche 2 :Statechart</h2>
    <p>
        Pour la création du statechart plusieurs décisions ont été prises, l'une des première a été de faire du système d'ouverture et fermeture de la porte parallèle au reste de la logique du système, cela avait notamment 2 avantages, premièrement
        est que cela reflétait le fonctionnement d'un micro-onde réel plus fidèlement, où l'ouverture et fermeture peut se faire en tout temps. Deuxièmement cela permettait d'avoir aussi une variable booléenne interne qui indique si la porte est 
        fermé ou non ce qui est utile quand à l'état de cuisson du micro-onde pour savoir si la cuisson peut avoir lieu ou non. Quand au power nous avons laisser la posibilité à un utilisateur de choisir la puissance de l'une à l'autre sans problème
        mais également quand il est rendu à la partie Timer déjà. Encore une fois dans le but de simuler plus fidèlement un vrai micro-onde où on aimerait pouvoir retourner en arrière sans tout recommencer du début. Pour le Timer nous avons décidé
        de s'en tenir aux secondes uniquements et pas les minutes dans un soucis de simplicité lorsque le décompte sera fait, de plus la spécification de l'application ne mentionnait que les secondes. Pour la cuisson, le open rajoute 1s encore une fois
        dans un soucis de fidélité, lorsque l'on ouvre un micro-onde à 0:33 par exemple et qu'on le redémarre, on s'attend à voir toujours 0:33 même si la seconde s'était écoulée lors de la cuisson, cela aidait donc à garder cet aspect et aussi pour s'assurer
        que si un utilisateur ouvre la porte à 0:00, le temps ne puisse jamais afficher une valeur négative même si techniquement il ne reste plus de temps. Le stop réinitialise tout le micro-onde car un historique serait couteux pour un processus aussi simple
        que de faire fonctionner un micro-onde, de plus le statechart prévoi déjà l'option de retourner en arrière pour la puissance, et d'arrêter et redémarrer la cuisson. Le seul intérêt aurait été peut être pour le timer mais encore une fois si l'utilisateur
        appui sur stop le seul autre bouton qu'il doit presser ensuite est high ou low avant de retourner au timer semblant assez faible comme justification pour un historique profond ou superficiel.

        <img src="Microwave/images/microwave_0.png" alt="Statechart de micro-onde" width="1800"> 
    </p> 
    
    <h2>
        Tâche 3 :Diagramme de classe logiciel/Diagramme de Séquence</h2>
    <p>
        Notre solution a été d'abord de créé des classes générales pour chacun des composants d'un voyage, puis de les dériver en classe plus spécifique pour chaque type de voyage. Ainsi, on s'assure que chaque unité peut avoir une bonne cohésion, mais
        le couplage n'est pas trop affecté si certaines opérations font appel à plusieurs des composants. Nous nous sommes assuré aussi que la classe Système centralisée facilite l'échange d'information entre les utilisateurs et le reste du logiciel.
        Une des autres applications de la généralisation est la classe Section. Encore une fois, plusieurs sections possèdent des attributs en commun, mais avec chaque Section ayant une classe distincte on assure aussi que certaines valeurs sont respectés, 
        tel que tarif_p qui représente le pourcentage du tarif plein de la compagnie de transport décide ou encore le charactère qui représente la section. Pour les cabines de bateaux cela aide aussi à avoir une capacité maximale pour éviter un problème 
        lors d'une réservation.
        <br> Nous avons aussi décidé de relier la classe Système à Siège afin de réduire le couplage lors d'une réservation d'un siège. Un siège compose déjà une section qui compose elle même le transport, 
        donc il serait inutile de faire Système -> Voyage -> Transport -> Section -> Siège à chaque réservation.
        <br>Quand aux classes utilisateurs nous avons au contraire décidé d'éviter une généralisation en ayant une classe unique 'User' qui se dérive en Client et Admin, les raisons derrières sont que leurs interactions avec le Système sont très différentes
        et ne possède excepté leur nom, aucun attribut commun. Cela semble donc un peu superflu de créer ce type de classe. De plus, c'est aussi par soucis de sécurité, on ne voudrait pas qu'un accident lors du login ou tout autre problème pourrait
        rendre certaines fonctionnalités de l'admin accessible au client. C'est aussi pour ça que toutes les fonctions de modifications, créations et suppressions sont associés avec la classe Admin et non Système. Tout
        de même nous avons tenté d'appliquer le polymorphisme aux opérations de l'Admin le plus possible afin de faciliter l'intéraction avec le Système si jamais des nouveaux types de transports venait à être ajoutés (ou même enlevé).
        <br>

    <img src="Design/Diagramme_de_Classe.jpg" alt="Diagramme de classe" width="1800"> 
        <p><br></p>
        
        
        <br><br> Concernant les diagrammes de séquence, nous avons fait de sorte à ce qu'il soit très précis et compréhensible.
        
        <h4>Diagramme Séquence Réserver un siège </h4>

        <br>Pour le diagramme Réserver un siège, nous avons pensé que la majorité du travail se ferait à l'intérieur du Système et que le Client aurait peu d'intéraction. Ainsi, le client demande simplement au Système de réserver un siège et celui-ci 
        recherche la liste de siège disponible pour un Voyage. Par la suite, le client choisi le siège qu'il désire réservé et le Système réserve celui-ci pour les 24 prochaines heures. Ceci est fait en créeant un timer dans la database.
        <br>

    <img src="Design/Diagramme_Sequence_ReserverUnSiege.jpg" alt="Diagramme Reserver un siège" width="1800"> 
        <p><br></p>
        
        <h4>Diagramme Séquence Payer un siège </h4>
    
        <br>Pour le diagramme Payer un siège, étant donné la nature de la fonction, nous avons mis des certaines alternatives. Tout d'abord le client choisi l'option de payer son siège avec son numéro de Réservation que le Système vérifie la validité 
        à l'aide de la base de donnée. Si celui-ci est invalide, un message d'erreur est retourné au client. Dans le cas contraire, le Système cherche le prix du Siège et demande au client de fournir ses informations personnels dont sa carte de crédit.
        Finalement, le Système vérifie l'authenticité de la carte de crédit et si celle-ci est valide, le client reçoit sa facture et son ticket d'avion.
        <br>

    <img src="Design/Diagramme_Sequence_PayerUnSiege.jpg" alt="Diagramme Payer un siège" width="1800"> 
        <p><br></p>
    
        <h4>Diagramme Séquence Vérification Vols/Lignes/Itinéraires </h4>
    
        <br>Pour le diagramme de Recherche d'un Voyage, le système est assez simple et linéaire, nous n'avons pas jugé bon de créer de scénarios alternatifs car rien ne changerait vraiment le fonctionnement du programme, le logiciel se contente déjà de scanner les voyages
        et si ils n'ont aucune place de libre ils ne sont pas ajouté à la liste, si la liste est vide encore une fois rien ne change le Client aura juste une page disant Voyage non disponible.
    
        <br>

    <img src="Design/Diagramme_Sequence_RechercheVoyage.jpg" alt="Diagramme Recherche Voyage" width="1800"> 
        <p><br></p>

        <h4>Diagramme de Paquets </h4>
    
        <br>Pour ce diagramme de paquet nous avons essayé d'implémenter les nouvelles relations de classes avec l'implémentations des nouvelles interfaces, contrôleurs et menus et les dépendances des différentes classes et paquets.
    
        <br>

    <img src="Domaine/Diagramme de paquets.png" alt="Diagramme de paquets" width="1800"> 

    </p>
    <ul>
        <li>Voici un <a href="https://github.com/Sethorvo/IFT3911-DM1/tree/main/Design">lien</a> vers les fichiers.</li>
    </ul>


    <h2>
        Tâche 4 :</h2>
    <p>

    </p> 
    
    <ul>
        <a href=""></a>
    </ul>


</body>

</html>
